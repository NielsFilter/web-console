<div class="container" *ngIf="this.userService.isUserLoggedIn()">
  <div class="col">
    <br>

    <!-- breadcrumbs -->
    <nav aria-label="breadcrumb">
      <ol class="breadcrumb custom-breadcrumb">
        <li class="breadcrumb-item" *ngFor="let nav of this.currentLocationUrlBreadcrumb">
            <a (click)="breadcrumbNavItemClicked(nav)">{{nav.name}}</a>
        </li>
        <li class="breadcrumb-item active" aria-current="page">{{currentLocation.name}}</li>
      </ol>
    </nav>

    <!-- search bar -->
    <input type="text" 
          class="custom-input-text custom-input-search"
          placeholder="Search">
    <br>

    <!-- while loading -->
    <div *ngIf="this.loading">
        <p>LOADING...</p>
    </div>

    <!-- if no groups were found -->
    <div *ngIf="!this.currentLevelGroups && this.isAdminGroup && !this.loading">
        <p>No groups found, please add some collections/groups </p>
    </div>

    <!-- if no accounts were found -->
    <div *ngIf="!this.currentGroupAccounts && !this.isAdminGroup && !this.loading">
        <p>No accounts found</p>
    </div>


    <!-- groups and accounts -->
    <div id="spGroups" *ngIf="!this.loading">
      <div class="list-group list-group-flush">

        <!-- collections and groups -->
        <div *ngIf="this.currentLevelGroups && this.isAdminGroup">
          <div *ngFor="let group of this.currentLevelGroups">
            <li class="list-group-item"> 

              <!-- group button depending on group type -->
              <img  class="custom-panel-icon"
                    *ngIf="group.GroupType == 'BackupGroup'"
                    src="../../../assets/images/environment.png">

              <img  class="custom-panel-icon"
                    *ngIf="group.GroupType == 'AdminGroup'"
                    src="../../../assets/images/GroupCollection.png">  

              <a  *ngIf="group.GroupType == 'AdminGroup'" 
                  (click)="adminGroupClicked(group.Name, group.Id, $event)"
                  data-toggle="collapse" 
                  [attr.data-parent]="dataParentId" 
                  href="#{{group.Id}}">
                  {{group.Name | uppercase}}
              </a>

              <a  *ngIf="group.GroupType == 'BackupGroup'"
                  (click)="getBackupAccountsForGroup(group.Name, group.Id, $event)"
                  data-toggle="collapse" 
                  [attr.data-parent]="dataParentId" 
                  href="#{{group.Id}}">
                  {{group.Name | uppercase}}
              </a>


              <!-- change group settings button -->
              <button
                type="button"
                class="custom-panel-button-icon custom-preferences-button"
                (click)="groupSettingsButtonClicked(group.Name, group.Id)">
              </button>

              <!-- remove group button -->
              <button
                type="button"
                class="custom-panel-button-icon custom-remove-button"
                (click)="removeGroupButtonClicked(group.Name, group.Id)">
              </button>

              <!-- add group button if current group is a collection-->
              <button *ngIf="group.GroupType == 'AdminGroup'"
                type="button"
                class="custom-panel-button-icon custom-add-button"
                (click)="addGroupButtonClicked(group.Name, group.Id)">
              </button>
            </li>
          </div>
        </div>

        <!-- accounts -->
        <div *ngIf="currentGroupAccounts && !this.isAdminGroup">
          <div *ngFor="let account of this.currentGroupAccounts">
            <li class="list-group-item"> 
      
              <!-- account icon depending on type -->
      
              <img  class="custom-panel-icon"
                  *ngIf="account.TypeId == 1"
                  src="../../../assets/images/client_dl.png">
      
              <img  class="custom-panel-icon"
                  *ngIf="account.TypeId == 2"
                  src="../../../assets/images/client_se.png">
      
              <img  class="custom-panel-icon"
                  *ngIf="account.TypeId == 3"
                  src="../../../assets/images/client_ese.png">
      
                <!-- name of the account -->
                <a >{{account.AccountName | uppercase}}</a>
            </li>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
